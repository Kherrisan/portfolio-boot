(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[465],{9377:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/status",function(){return r(2733)}])},9481:function(t,e,r){"use strict";r.d(e,{H1:function(){return i},H2:function(){return o},Hr:function(){return a}});var s=r(5893);r(7294);let i=t=>{let{children:e}=t;return(0,s.jsx)("h1",{className:"my-8 font-extrabold md:text-5xl sm:text-4xl text-3xl text-dark-900/90 dark:text-light-900/90",children:e})},o=t=>{let{children:e}=t;return(0,s.jsx)("h2",{className:"my-8 font-bold md:text-4xl sm:text-3xl text-2xl text-dark-900/90 dark:text-light-900/90",children:e})},a=()=>(0,s.jsx)("hr",{className:"mb-8 h-px bg-gray-300 dark:bg-gray-300/50 border-0"})},2733:function(t,e,r){"use strict";r.r(e);var s=r(5893),i=r(9008),o=r.n(i);r(7294);var a=r(8100),n=r(9481),l=r(2539);let d=t=>{let{title:e,status:r,children:i}=t;return(0,s.jsxs)("div",{className:"border-b-4 items-center text-center h-36 relative bg-light-300 dark:bg-dark-700 rounded p-2 transition-all duration-150 hover:shadow-lg hover:opacity-80",children:[(0,s.jsx)("div",{className:"my-2 font-bold text-xl text-gray-900/90 dark:text-light-100/90",children:e}),i,r?(0,s.jsx)("div",{className:"absolute inset-x-0 bottom-2 text-xl text-amber-500 dark:text-amber-500/90 font-semibold",children:"OK"}):(0,s.jsx)("div",{className:"absolute inset-x-0 bottom-2 text-xl text-gray-500 dark:text-gray-400/90 font-semibold",children:"FAILED"})]})},c=async()=>{let t;let e=await navigator.serviceWorker.getRegistration();if(e){let r=await caches.open("kendrickzou-portfolio-cache"),s=await r.match(new Request("https://kendrickzou.com/db/kendrickzou-portfolio-version"));t=await (null==s?void 0:s.text())}return{registration:e,"portfolio-version":t}},x=async()=>{let t=await fetch("https://registry.npmjs.org/kendrickzou-portfolio/latest"),e=await t.json();t=await fetch("https://registry.npmjs.org/kendrickzou-portfolio-img/latest");let r=await t.json();return{"portfolio-version":e.version,"portfolio-img-version":r.version}},m=async()=>(await fetch("https://api.kendrickzou.com/api/bookmark/https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV18K411o7k9%2F")).status,h=()=>{let{data:t,error:e}=(0,a.ZP)("swReg",c),{data:r,error:i}=(0,a.ZP)("cdn",x),{data:h,error:u}=(0,a.ZP)("api",m);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o(),{children:(0,s.jsx)("title",{children:"KendrickZou - ServiceStatus"})}),(0,s.jsxs)(l.W,{children:[(0,s.jsx)(n.H1,{children:"ServiceStatus"}),(0,s.jsx)(n.Hr,{}),(0,s.jsx)(n.H2,{children:"Portfolio"}),(0,s.jsxs)("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[(0,s.jsxs)(d,{title:"ServiceWorker",status:!!(null==t?void 0:t.registration),children:[(0,s.jsxs)("div",{className:"primary-text",children:["registered:"," ",(0,s.jsx)("span",{className:"font-semibold",children:(null==t?void 0:t.registration)?"YES":"NO"})]}),(0,s.jsxs)("div",{className:"primary-text",children:["version:"," ",(0,s.jsx)("span",{className:"font-semibold",children:(null==t?void 0:t["portfolio-version"])||"null"})]})]}),(0,s.jsxs)(d,{title:"CDN",status:!!(null==r?void 0:r["portfolio-img-version"]),children:[(0,s.jsxs)("div",{className:"primary-text",children:["version:"," ",(0,s.jsx)("span",{className:"font-semibold",children:null==r?void 0:r["portfolio-version"]})]}),(0,s.jsxs)("div",{className:"primary-text",children:["img-version:"," ",(0,s.jsx)("span",{className:"font-semibold",children:null==r?void 0:r["portfolio-img-version"]})]})]}),(0,s.jsx)(d,{title:"API",status:200==h,children:(0,s.jsxs)("div",{className:"primary-text",children:["status:"," ",(0,s.jsx)("span",{className:"font-semibold",children:h})]})})]}),(0,s.jsx)("div",{className:"secondary-text text-xs mt-8 text-center font-mono",children:"Status of ServiceWorker is accessed from the browser directly, and that of CDN and API is fetched from remote npm.js and Vercel respectively."})]})]})};e.default=h}},function(t){t.O(0,[100,774,888,179],function(){return t(t.s=9377)}),_N_E=t.O()}]);