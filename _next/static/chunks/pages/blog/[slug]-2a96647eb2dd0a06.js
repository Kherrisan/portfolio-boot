(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[492],{1127:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/[slug]",function(){return n(9929)}])},6673:function(e,r,n){"use strict";var s=n(5893),l=n(7870);let a=()=>(0,s.jsx)("div",{id:"comments-section",className:"mt-4 rounded border border-gray-400/30 p-4 md:-mx-4",children:(0,s.jsx)(l.Z,{repo:"kherrisan/giscus-discussions",repoId:"R_kgDOHrXU0g",category:"Announcements",categoryId:"DIC_kwDOHrXU0s4CQSsV",mapping:"pathname",reactionsEnabled:"1",theme:"preferred_color_scheme",loading:"lazy",inputPosition:"top"})});r.Z=a},6555:function(e,r,n){"use strict";var s=n(5893);let l=["@1x","@2x","@3x"],a=e=>{let{src:r,width:n,height:a,alt:i}=e,t="".concat(n," / ").concat(a),c=r.split(".").slice(-1)[0],d=r.replace(".".concat(c),""),o=Array.from({length:3},(e,r)=>r).map(e=>"".concat(d).concat(l[e],".jpeg ").concat((e+1)*768,"w")).join(", ");return n>768&&(a=768*a/(n=768)),(0,s.jsx)("img",{srcSet:o,alt:i,style:{width:n,height:"auto",aspectRatio:t}})};r.Z=a},9929:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSG:function(){return S},default:function(){return H}});var s=n(5893),l=n(6893),a=n(7516),i=n(8193),t=n(9008),c=n.n(t),d=n(1664),o=n.n(d),h=n(1163);let u=e=>{let{title:r,author:n,date:l,absoluteLink:a}=e;return(0,s.jsxs)("div",{className:"relative -mb-4 overflow-hidden rounded bg-light-400 p-4 text-sm dark:bg-dark-400 md:-mx-4 md:rounded-none",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-64 translate-x-10 translate-y-3 transform opacity-10",children:(0,s.jsxs)("svg",{className:"fill-current",viewBox:"0 0 800 704",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",children:[(0,s.jsx)("path",{d:"M400.98 130.135c50.883-55.103 110.318-80.162 179.132-70.454 71.026 10.02 131.5 60.798 153 129.238 16.543 52.662 9.676 111.642-12.477 165.426-34.457 83.653-136.276 202.558-320.636 285.689-184.358-83.13-286.178-202.036-320.634-285.689-22.154-53.784-29.021-112.764-12.478-165.426 21.5-68.44 81.974-119.218 153.001-129.238 68.816-9.708 128.25 15.353 179.135 70.459l.976 1.06c.002.001.897-.974.982-1.065ZM400 51.988c-111.14-87.23-285.332-64.47-365.432 66.63C7.973 162.148-2.016 212.755.331 263c4.072 87.153 41.693 163.336 96.952 229.077 74.408 88.524 181.98 158.088 300.364 209.999.165.073 1.531.667 2.352 1.032.72-.303 1.98-.871 2.368-1.042 117.775-51.91 225.946-121.48 300.35-209.989C757.98 426.34 795.595 350.153 799.668 263c2.347-50.245-7.64-100.853-34.237-144.382-80.1-131.1-254.292-153.86-365.432-66.63Z",strokeWidth:".01728"}),(0,s.jsx)("path",{d:"m397.157 373.77-50.596-25.08c-17.586 25.643-30.382 42.997-67.34 32.871-29.014-7.95-37.6-39.747-38.702-66.42-1.507-36.434 11.23-78.512 54.744-76.26 27.807 1.435 39.655 17.836 45.986 32.577l55.244-28.32c-27.212-51.914-90.983-69.569-145.036-55.102-57.52 15.395-86.653 68.308-85.632 125.37 1.044 58.33 29.043 108.718 89.192 121.869 29.327 6.41 61.259 4.92 88.416-8.696 21.018-10.537 44.368-30.877 53.724-52.81Zm238.507 0-50.596-25.08c-17.586 25.643-30.382 42.997-67.342 32.871-29.011-7.95-37.598-39.747-38.702-66.42-1.505-36.434 11.232-78.512 54.747-76.26 27.805 1.435 39.652 17.836 45.983 32.577L635 243.138c-27.211-51.914-90.981-69.569-145.037-55.102-57.518 15.395-86.652 68.308-85.63 125.37 1.043 58.33 29.043 108.718 89.192 121.869 29.326 6.41 61.259 4.92 88.416-8.696 21.018-10.537 44.368-30.877 53.724-52.81Z"})]})}),(0,s.jsxs)("div",{className:"font-serif text-lg leading-6",children:[r," - Dikai Zou"]}),(0,s.jsx)("div",{className:"leading-5 opacity-90",children:(0,s.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:a})}),(0,s.jsxs)("div",{className:"my-4 grid grid-cols-3 opacity-90 md:w-2/3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs",children:"Author"}),(0,s.jsx)("div",{children:n.map(e=>{var r;return"people"in e&&"name"in e.people?null===(r=e.people.name)||void 0===r?void 0:r.toLowerCase():"_"}).join(", ")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs",children:"Date"}),(0,s.jsx)("div",{children:new Date(l).toLocaleDateString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs",children:"License"}),(0,s.jsx)("a",{href:"https://creativecommons.org/licenses/by-nc-sa/4.0/",target:"_blank",rel:"noopener noreferrer",children:"CC BY-NC-SA 4.0"})]})]}),(0,s.jsx)("p",{className:"font-bold leading-6",children:"Attribution, non-commercial, and sharealike."})]})};var m=n(9352),x=n(3659);let p=e=>{let{blocks:r}=e,n=r.filter(e=>"heading_2"===e.type||"heading_3"===e.type).map(e=>({id:e.id,type:e.type,text:e[e.type].rich_text[0].plain_text,children:[]}));if(0===n.length)return(0,s.jsx)("div",{className:"sticky top-0 col-span-3 hidden h-0 xl:block",children:(0,s.jsxs)("div",{className:"max-h-screen-md rounded border border-gray-400/30 p-4",children:[(0,s.jsx)("h1",{className:"primary-text font-bold leading-8",children:"Table of contents"}),(0,s.jsx)("p",{className:"secondary-text leading-6",children:"There is no table of contents. Here is a cookie. \uD83C\uDF6A"})]})});let l=[];return n.forEach(e=>{"heading_2"===e.type?l.push(e):"heading_3"===e.type&&l.length>0&&l[l.length-1].children.push(e)}),(0,s.jsx)("div",{className:"sticky top-20 col-span-3 hidden h-0 lg:block",children:(0,s.jsxs)("div",{className:"max-h-screen-md rounded border border-gray-400/30 p-4 relative",children:[(0,s.jsx)(m.nmS,{className:"text-red-600 absolute top-4 right-4",size:20}),(0,s.jsx)("h1",{className:"primary-text font-serif text-lg leading-8",children:(0,s.jsx)("span",{children:"Table of contents "})}),(0,s.jsx)("ul",{className:"list-inside list-disc",children:l.map(e=>(0,s.jsx)(o(),{className:"hover-links",href:"#".concat((0,x.slugify)(e.text)),passHref:!0,children:(0,s.jsxs)("li",{className:"leading-7",children:[e.text,e.children.length>0&&(0,s.jsx)("ul",{className:"ml-6 list-inside list-disc",children:e.children.map(e=>(0,s.jsx)(o(),{className:"hover-links",href:"#".concat((0,x.slugify)(e.text)),passHref:!0,children:(0,s.jsx)("li",{className:"leading-7",children:e.text})},e.id))})]})},e.id))})]})})};var g=n(6673),v=n(7770),j=n(7215),f=n(760),b=n(5675),N=n.n(b),y=n(8100);let k=e=>fetch("/api/bookmark/".concat(encodeURIComponent(e))).then(e=>e.json()),w=e=>{var r;let{value:n}=e,{properties:a}=n,{data:i,error:t}=(0,y.ZP)(a,k);if(t)return(0,s.jsxs)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"relative h-28 flex items-end p-2 cursor-pointer rounded bg-gray-200 dark:bg-dark-400 border border-gray-400/50 text-gray-600 hover:bg-light-200 dark:text-gray-400 dark:hover:bg-dark-700 overflow-hidden",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.XKb,{size:16,className:"inline mr-2"}),(0,s.jsx)("span",{className:"truncate",children:a})]}),(0,s.jsxs)("span",{className:"absolute top-0 right-0 text-6xl truncate tracking-widest opacity-10 font-mono font-black",children:[(0,s.jsx)(l.eR7,{className:"inline mr-2"}),(0,s.jsx)("span",{children:a})]})]});if(!i)return(0,s.jsxs)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"h-28 grid grid-cols-3 cursor-pointer rounded border border-gray-400/50 text-gray-600 hover:bg-light-200 dark:text-gray-400 dark:hover:bg-dark-700 overflow-hidden",children:[(0,s.jsxs)("div",{className:"col-span-3 flex flex-col space-y-3 p-2 sm:col-span-2",children:[(0,s.jsx)("div",{className:"h-5 animate-pulse rounded bg-gray-200 dark:bg-dark-400"}),(0,s.jsx)("div",{className:"flex-1 animate-pulse rounded bg-gray-200 dark:bg-dark-400"}),(0,s.jsxs)("div",{className:"truncate text-sm opacity-70",children:[(0,s.jsx)(l.XKb,{size:16,className:"inline mr-2"}),(0,s.jsx)("span",{children:a})]})]}),(0,s.jsx)("div",{className:"h-28 hidden animate-pulse overflow-hidden bg-gray-200 dark:bg-dark-400 sm:block"})]});let{title:c,description:d,favicon:o,open_graph:h}=i,u=null!==(r=null==h?void 0:h.images)&&void 0!==r?r:[];return console.log(u),u&&u.length>0&&(u[0].url=u[0].url.replace(/@.+$/,"")),(0,s.jsxs)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"no-underline primary-text grid h-28 cursor-pointer grid-cols-3 justify-between rounded border border-gray-400/50 hover:bg-light-200 dark:hover:bg-dark-700 overflow-hidden",children:[(0,s.jsxs)("div",{className:"col-span-3 flex flex-shrink flex-col overflow-hidden p-2 sm:col-span-2",children:[(0,s.jsx)("div",{className:"mb-1 h-6 truncate text-sm font-bold leading-6",children:c}),(0,s.jsx)("div",{className:"mb-1 h-10 overflow-hidden text-ellipsis text-sm leading-5 opacity-80",children:d}),(0,s.jsxs)("div",{className:"flex h-6 items-center space-x-2 overflow-hidden truncate text-sm opacity-70",children:[o?(0,s.jsx)("img",{src:o,className:"h-4 w-4",alt:"favicon"}):(0,s.jsx)(l.XKb,{size:17}),(0,s.jsx)("span",{className:"translate-y-0.5 transform overflow-hidden truncate leading-6",children:a})]})]}),u&&u.length>0&&(0,s.jsx)("div",{className:"relative overflow-hidden rounded border-l border-gray-400/50 sm:block",children:(0,s.jsx)(N(),{src:u[0].url,alt:c,fill:!0,className:"m-0 h-28 w-full rounded border-gray-400/50 object-cover object-center"})})]})};var _=n(7294),C=n(6555);let Z=e=>{let{value:r}=e;"file"===r["data-notion-file-type"]&&r.src.expiry_time;let n=r.src.url,{dim:{width:l,height:a},caption:i}=r||{},{width:t,height:c}=function(){let[e,r]=(0,_.useState)({width:void 0,height:void 0});return(0,_.useEffect)(()=>{function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e}();return(0,s.jsxs)("figure",{children:[(0,s.jsx)(C.Z,{src:n,width:l,height:a,alt:i?i[0].plain_text:n}),i&&0!=i.length&&(0,s.jsx)("figcaption",{className:"text-center",children:i[0].plain_text})]})};function D(e){let{text:r}=e;if(!r)return null;let{value:n,annotations:l}=r,a=null==l?void 0:l.filter(e=>(null==e?void 0:e.startsWith("color"))&&!e.endsWith("background")).map(e=>e.replace("color","text").concat("-600")),i=null==l?void 0:l.filter(e=>(null==e?void 0:e.startsWith("color"))&&e.endsWith("background")).map(e=>e.replace("color","bg").replace("_background","-400/40")),t=null==l?void 0:l.filter(e=>null==e?void 0:e.startsWith("http"))[0];return(0,s.jsx)("span",{className:[(null==l?void 0:l.includes("b"))?"font-bold":null,i&&i.length>0?i[0]:null,a&&a.length>0?a[0]:null,i&&i.length>0?"rounded":null,(null==l?void 0:l.includes("i"))?"italic":null,(null==l?void 0:l.includes("s"))?"line-through":null,(null==l?void 0:l.includes("u"))?"underline":null].filter(e=>e).join(" "),children:t?(0,s.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:n}):n})}let E=e=>(function e(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(void 0!=r.annotations){var l;null===(l=r.children)||void 0===l||l.forEach(e=>{var n;e.annotations=Object.assign([],r.annotations),e.annotations=e.annotations.concat(null===(n=r.properties)||void 0===n?void 0:n.className)})}if("root"===r.type)return r.children.map((r,n)=>e(r,n));if("text"===r.type)return(0,s.jsx)(D,{text:r},n);switch(r.tagName){case"i":case"b":case"u":case"s":case"a":return r.children.map((n,s)=>{var l,a;return void 0===n.annotations&&(n.annotations=[]),n.annotations.push(r.tagName),n.annotations=n.annotations.concat(null===(l=r.properties)||void 0===l?void 0:l.className),n.annotations.push(null===(a=r.properties)||void 0===a?void 0:a.href),e(n,s)});case"h1":return(0,s.jsx)("h1",{id:(0,x.slugify)(r.children[0].value),className:"font-serif",children:r.children.map((r,n)=>e(r,n))},n);case"h2":return(0,s.jsx)("h2",{id:(0,x.slugify)(r.children[0].value),className:"font-serif",children:r.children.map((r,n)=>e(r,n))},n);case"h3":return(0,s.jsx)("h3",{id:(0,x.slugify)(r.children[0].value),className:"font-serif",children:r.children.map((r,n)=>e(r,n))},n);case"ol":return(0,s.jsx)("ol",{children:r.children.map((r,n)=>e(r,n))},n);case"ul":return(0,s.jsx)("ul",{children:r.children.map((r,n)=>e(r,n))},n);case"li":return(0,s.jsx)("li",{children:r.children.map((r,n)=>e(r,n))},n);case"p":return(0,s.jsx)("p",{children:r.children.map((r,n)=>e(r,n))},n);case"section":if(1===r.children.length)return(0,s.jsx)(f.Z,{children:"\\[".concat(r.children[0].value,"\\]")},n);if(2===r.children.length)return(0,s.jsxs)("div",{className:"p-4 flex rounded-md bg-orange-100 dark:bg-stone-700",children:[(0,s.jsx)("span",{className:"pr-4",children:r.children[0].children[0].value}),(0,s.jsx)("div",{className:"",children:e(r.children[1])})]},n);case"div":return(0,s.jsx)("div",{children:r.children.map((r,n)=>e(r,n))},n);case"img":return(0,s.jsx)(Z,{value:r.properties},n);case"span":if(r.properties.className.includes("math-inline"))return(0,s.jsx)(f.Z,{children:"\\(".concat(r.children[0].value,"\\)")},n);return r.children.map((n,s)=>(void 0===n.annotations&&(n.annotations=[]),n.annotations.push(...r.properties.className),e(n,s)));case"bookmark":return(0,s.jsx)(w,{value:r},n);case"audio":return(0,s.jsx)("audio",{className:"w-full my-4",controls:!0,src:r.properties.src.url},n);case"iframe":return(0,s.jsx)("iframe",{className:"w-full h-96 my-4",src:r.properties.src},n);default:return(0,s.jsx)("code",{children:JSON.stringify(r)},n)}})(e);function L(){Object.assign(this,{Compiler:function(e){return E(e)}})}let z=e=>{var r,n,t,d;let{page:m,blocks:x}=e,f=(0,h.useRouter)();if(!m||!x)return(0,s.jsx)("div",{});let b=(null===(r=m.icon)||void 0===r?void 0:r.type)==="emoji"?m.icon.emoji:"\uD83C\uDF91",N=m.properties,y="results"in N.name&&"title"===N.name.results[0].type?N.name.results[0].title.plain_text:"",k="date"===N.date.type&&null!==(d=null===(n=N.date.date)||void 0===n?void 0:n.start)&&void 0!==d?d:"",w="results"in N.author?N.author.results:[],_="select"in N.category?N.category.select:null,C="multi_select"in N.tags?N.tags.multi_select:[],Z=(0,v.l)().use(j.Z,{enableBlockId:!0}).use(L).processSync({data:x}).result;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c(),{children:(0,s.jsx)("title",{children:"KendrickZou"})}),(0,s.jsxs)("div",{className:"container mx-auto grid max-w-3xl grid-cols-10 gap-8 px-6 lg:max-w-5xl",children:[(0,s.jsxs)("div",{className:"col-span-10 lg:col-span-7",children:[(0,s.jsxs)("div",{className:"-mx-4 rounded border-gray-400/30 p-4 md:border",children:[(0,s.jsxs)("h1",{className:"mb-2 flex justify-between space-x-2 font-serif text-3xl",children:[(0,s.jsx)("span",{className:"font-bold",children:y}),(0,s.jsx)("span",{children:b})]}),(0,s.jsxs)("div",{className:"secondary-text flex flex-wrap items-center gap-2",children:[(0,s.jsx)("span",{children:new Date(k).toLocaleDateString()}),(0,s.jsx)("span",{children:"\xb7"}),w.map(e=>{var r;return(0,s.jsx)("span",{children:"people"in e&&"name"in e.people?null===(r=e.people.name)||void 0===r?void 0:r.toLowerCase():""},e.id)}),(0,s.jsx)("span",{children:"\xb7"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(a.Qns,{size:18,className:"mr-1 inline"}),(0,s.jsx)("span",{children:null==_?void 0:null===(t=_.name)||void 0===t?void 0:t.toLowerCase()})]}),(0,s.jsx)("span",{children:"\xb7"}),(0,s.jsxs)(o(),{className:"hover-links",href:"#comments-section",passHref:!0,children:[(0,s.jsx)(l.EQ9,{size:18,className:"mr-1 inline"}),(0,s.jsx)("span",{children:"comments"})]})]}),(0,s.jsx)("div",{className:"secondary-text flex flex-wrap items-center gap-2",children:null==C?void 0:C.map(e=>{var r;return(0,s.jsxs)("span",{children:[(0,s.jsx)(i.Wwr,{size:18,className:"mr-1 inline"}),(0,s.jsx)("span",{children:null===(r=e.name)||void 0===r?void 0:r.toLowerCase()})]},e.id)})}),(0,s.jsx)("article",{className:"prose my-8 dark:prose-invert max-w-none",children:Z}),(0,s.jsx)(u,{title:y,author:w,date:k,absoluteLink:"".concat("https://kendrickzou.com","/blog/").concat(f.query.slug)})]}),(0,s.jsx)(o(),{href:"/blog",passHref:!0,children:(0,s.jsxs)("div",{className:"group mt-4 flex cursor-pointer items-center justify-between rounded border border-gray-400/30 p-4 hover:bg-light-200 hover:opacity-80 dark:hover:bg-dark-700 md:-mx-4",children:[(0,s.jsx)("span",{children:"cd /blog"}),(0,s.jsx)(l.Ao2,{className:"h-4 w-4 transition-all duration-150 group-hover:-translate-x-1"})]})}),(0,s.jsx)(g.Z,{})]}),(0,s.jsx)(p,{blocks:x})]}),(0,s.jsx)("div",{className:"flex-1"})]})};var S=!0,H=z}},function(e){e.O(0,[472,153,937,874,617,675,100,390,774,888,179],function(){return e(e.s=1127)}),_N_E=e.O()}]);