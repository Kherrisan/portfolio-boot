(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[465],{9377:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/status",function(){return r(2733)}])},9481:function(t,e,r){"use strict";r.d(e,{H1:function(){return i},H2:function(){return a},Hr:function(){return n}});var o=r(5893);r(7294);let i=t=>{let{children:e}=t;return(0,o.jsx)("h1",{className:"my-8 font-extrabold md:text-5xl sm:text-4xl text-3xl text-dark-900/90 dark:text-light-900/90",children:e})},a=t=>{let{children:e}=t;return(0,o.jsx)("h2",{className:"my-8 font-bold md:text-4xl sm:text-3xl text-2xl text-dark-900/90 dark:text-light-900/90",children:e})},n=()=>(0,o.jsx)("hr",{className:"mb-8 h-px bg-gray-300 dark:bg-gray-300/50 border-0"})},7480:function(t,e,r){"use strict";r.d(e,{Ao:function(){return s},ge:function(){return l},rU:function(){return n},zF:function(){return d}});var o=r(5893),i=r(9521);r(7294);var a=r(6893);let n=i.ZP.a.withConfig({displayName:"Link",componentId:"sc-1j5r153-0"})({"--tw-text-opacity":"1",color:"rgb(245 158 11 / var(--tw-text-opacity))",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",":hover":{"--tw-text-opacity":"1",color:"rgb(217 119 6 / var(--tw-text-opacity))"},".dark &":{color:"rgb(245 158 11 / 0.9)"},".dark &:hover":{color:"rgb(251 191 36 / 0.9)"}}),s=i.ZP.span.withConfig({displayName:"Link__UnderlineLink",componentId:"sc-1j5r153-1"})({borderBottomWidth:"1px","--tw-border-opacity":"1",borderBottomColor:"rgb(245 158 11 / var(--tw-border-opacity))","--tw-text-opacity":"1",color:"rgb(245 158 11 / var(--tw-text-opacity))",textDecorationLine:"none",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",":hover":{"--tw-border-opacity":"1",borderBottomColor:"rgb(217 119 6 / var(--tw-border-opacity))","--tw-text-opacity":"1",color:"rgb(217 119 6 / var(--tw-text-opacity))"},".dark &":{borderBottomColor:"rgb(245 158 11 / 0.9)",color:"rgb(245 158 11 / 0.9)"},".dark &:hover":{borderBottomColor:"rgb(251 191 36 / 0.9)",color:"rgb(251 191 36 / 0.9)"}}),l=(0,i.ZP)(a.Rgz).withConfig({displayName:"Link__LinkArrowRight",componentId:"sc-1j5r153-2"})({height:"1rem",width:"1rem",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",".group:hover &":{"--tw-translate-x":"0.25rem",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}),c=i.ZP.p.withConfig({displayName:"Link__BlockCalloutP",componentId:"sc-1j5r153-3"})({display:"flex",borderRadius:"0.375rem","--tw-bg-opacity":"1",backgroundColor:"rgb(255 237 213 / var(--tw-bg-opacity))",padding:"1rem",".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgb(68 64 60 / var(--tw-bg-opacity))"}}),d=t=>(0,o.jsxs)(c,{children:[(0,o.jsx)("span",{className:"pr-4",children:t.emoji||"\uD83C\uDF1F"}),(0,o.jsx)("div",{children:t.children})]})},2733:function(t,e,r){"use strict";r.r(e);var o=r(5893),i=r(9008),a=r.n(i);r(7294);var n=r(8100),s=r(9481),l=r(2539),c=r(7480);let d=t=>t<1024?"".concat(t," B"):t<1048576?"".concat((t/1024).toFixed(2)," KB"):t<1073741824?"".concat((t/1024/1024).toFixed(2)," MB"):"".concat((t/1024/1024/1024).toFixed(2)," GB"),m=t=>{let{title:e,status:r,children:i}=t;return(0,o.jsxs)("div",{className:"border-b-4 h-44 relative bg-light-300 dark:bg-dark-700 rounded p-4 transition-all duration-150 hover:shadow-lg hover:opacity-80",children:[(0,o.jsx)("div",{className:"font-bold my-2 text-xl text-gray-900/90 dark:text-light-100/90",children:e}),(0,o.jsx)("div",{className:"my-2 text-gray-900/90 dark:text-light-100/90 primary-text font-mono text-xs",children:i}),r?(0,o.jsx)("div",{className:"absolute inset-x-4 bottom-2 text-xl text-amber-500 dark:text-amber-500/90 font-semibold",children:"OK"}):(0,o.jsx)("div",{className:"absolute inset-x-4 bottom-2 text-xl text-gray-500 dark:text-gray-400/90 font-semibold",children:"FAILED"})]})},u=async()=>{let t=await navigator.serviceWorker.getRegistration();if(!t)return{registration:void 0};let e=await caches.open("kendrickzou-portfolio-cache"),r=await e.match(new Request("https://kendrickzou.com/db/kendrickzou-portfolio-version")),o=await caches.open("kendrickzou-portfolio-cache"),i=await o.keys().then(t=>{var e;return Promise.all(t.map(t=>o.match(t).then(t=>null!==(e=null==t?void 0:t.clone().blob().then(t=>t.size))&&void 0!==e?e:0))).then(t=>t.reduce((t,e)=>t+e,0))});return{registration:t,"portfolio-version":await (null==r?void 0:r.text()),size:i}},x=()=>{var t;let{data:e}=(0,n.ZP)("swReg",u);return(0,o.jsxs)(m,{title:"Service Worker",status:(null==e?void 0:e.registration)!==void 0,children:[(0,o.jsxs)("div",{className:"my-1",children:[(0,o.jsx)("span",{className:"",children:"Registration: "}),(0,o.jsx)("span",{className:"font-semibold",children:(null==e?void 0:e.registration)!==void 0?"OK":"FAILED"})]}),(0,o.jsxs)("div",{className:"my-1",children:[(0,o.jsx)("span",{className:"",children:"Version: "}),(0,o.jsx)("span",{className:"font-semibold",children:null!==(t=null==e?void 0:e["portfolio-version"])&&void 0!==t?t:"N/A"})]}),(0,o.jsxs)("div",{className:"my-1",children:[(0,o.jsx)("span",{className:"",children:"Cache Size: "}),(0,o.jsx)("span",{className:"font-semibold",children:(null==e?void 0:e.size)!==void 0?d(e.size):"N/A"})]})]})},h=async()=>{let t=await fetch("https://registry.npmjs.org/kendrickzou-portfolio/latest"),e=await t.json();t=await fetch("https://registry.npmjs.org/kendrickzou-portfolio-img/latest");let r=await t.json();return{"portfolio-version":e.version,"portfolio-img-version":r.version}},p=()=>{var t,e;let{data:r}=(0,n.ZP)("cdn",h);return(0,o.jsxs)(m,{title:"CDN",status:null==r?void 0:r["portfolio-version"],children:[(0,o.jsxs)("div",{className:"my-1",children:[(0,o.jsx)("span",{className:"",children:"Version: "}),(0,o.jsx)(c.rU,{className:"font-semibold underline",href:"https://www.npmjs.com/package/kendrickzou-portfolio",target:"_blank",children:null!==(t=null==r?void 0:r["portfolio-version"])&&void 0!==t?t:""})]}),(0,o.jsxs)("div",{className:"my-1",children:[(0,o.jsx)("span",{className:"",children:"IMG-Version: "}),(0,o.jsx)(c.rU,{className:"font-semibold underline",href:"https://www.npmjs.com/package/kendrickzou-portfolio-img",target:"_blank",children:null!==(e=null==r?void 0:r["portfolio-img-version"])&&void 0!==e?e:""})]})]})},v={"/api/bookmark/[url]":"https://api.kendrickzou.com/api/bookmark/https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV18K411o7k9%2F","/api/search/[query]":"https://api.kendrickzou.com/api/bookmark/https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1ZK411o7k9%2F"},b=async()=>Promise.all(Object.entries(v).map(async t=>{let[e,r]=t;return fetch(r).then(t=>t.status)})),g=()=>{var t;let{data:e}=(0,n.ZP)("/api",b),r=null!==(t=null==e?void 0:e.every(t=>200===t))&&void 0!==t&&t;return(0,o.jsx)(m,{title:"API",status:r,children:Object.entries(v).map((t,r)=>{let[i,a]=t;return(0,o.jsxs)("div",{className:"my-1",children:[(0,o.jsxs)("span",{className:"",children:[i,":"," "]}),(0,o.jsx)(c.rU,{className:"font-semibold underline",href:a,target:"_blank",children:null==e?void 0:e[r]})]},r)})})},k=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a(),{children:(0,o.jsx)("title",{children:"KendrickZou - ServiceStatus"})}),(0,o.jsxs)(l.W,{children:[(0,o.jsx)(s.H1,{children:"ServiceStatus"}),(0,o.jsx)(s.Hr,{}),(0,o.jsx)(s.H2,{children:"Portfolio"}),(0,o.jsxs)("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[(0,o.jsx)(x,{}),(0,o.jsx)(p,{}),(0,o.jsx)(g,{})]}),(0,o.jsx)("div",{className:"secondary-text text-xs mt-8 text-center font-mono",children:"Status of ServiceWorker is accessed from the browser directly, and that of CDN and API is fetched from remote npm.js and Vercel respectively."})]})]});e.default=k}},function(t){t.O(0,[521,100,774,888,179],function(){return t(t.s=9377)}),_N_E=t.O()}]);